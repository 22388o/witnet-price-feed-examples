// WARNING: DO NOT DELETE THIS FILE
// This file was auto-generated by the Witnet compiler, any manual changes will be overwritten.
const WitnetRequestBoardProxy = artifacts.require("WitnetRequestBoardProxy")
const WitnetRequestBoard = artifacts.require("WitnetRequestBoard")
const CBOR = artifacts.require("CBOR")
const Witnet = artifacts.require("Witnet")

const addresses = {
  "goerli": {
    "CBOR": "0x4ADd24Cb572b8951808f81b8235ac302D9910c63",
    "Witnet": "0x80Dc9287085ea7C103c3EAe117Ad9A1CcCd02C46",
    "WitnetRequestBoardProxy": "0xd58615B1e77E6eD3a583CB12A7D0016cad7A8438",
  },
  "rinkeby": {
    "CBOR": "0xFBB631ec0F7b423d23c649bd5733bc450Ab5b366",
    "Witnet": "0x47689bc2d27770Ab3a358C1C2C9c998028ea0823",
    "WitnetRequestBoardProxy": "0xE1EC13d1521B98ee7b826751048806E85DC1F1bA",
  },
}

module.exports = function (deployer, network, accounts) {
  network = network.split("-")[0]
  if (network in addresses) {
    Witnet.address = addresses[network]["Witnet"]
    WitnetRequestBoardProxy.address = addresses[network]["WitnetRequestBoardProxy"]
  } else {
    deployer.deploy(CBOR)
    deployer.link(CBOR, Witnet)
    deployer.deploy(Witnet)
    deployer.deploy(WitnetRequestBoard, [accounts[0]]).then(function() {
      return deployer.deploy(WitnetRequestBoardProxy, WitnetRequestBoard.address)
    })

  }
}
